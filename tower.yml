# tower.yml - Seqera Platform configuration for WBL Automated Pipeline
# This file defines reports and outputs that will be accessible through the Seqera Platform UI

reports:
  # Main pipeline execution report (if generated by Nextflow)
  "report*.html":
    display: "Pipeline Execution Report"
    mimeType: "text/html"
  
  # Timeline report (if generated by Nextflow)
  "timeline*.html":
    display: "Pipeline Timeline Report"
    mimeType: "text/html"
  
  # Trace file (if generated by Nextflow)
  "trace*.txt":
    display: "Pipeline Trace File"
    mimeType: "text/plain"
  
  # DAG visualization (if generated by Nextflow)
  "dag*.html":
    display: "Pipeline DAG Visualization"
    mimeType: "text/html"
  
  # Results directory outputs - adjust paths based on your actual output structure
  "results/**/*.html":
    display: "Analysis Reports"
    mimeType: "text/html"
  
  "results/**/*.pdf":
    display: "PDF Reports"
    mimeType: "application/pdf"
  
  # Methylation analysis outputs (based on your pipeline description)
  "results/**/methylation_*.html":
    display: "Methylation Analysis Report"
    mimeType: "text/html"
  
  "results/**/methylation_*.tsv":
    display: "Methylation Data (TSV)"
    mimeType: "text/tab-separated-values"
  
  # Alignment statistics and QC reports
  "results/**/alignment_*.html":
    display: "Alignment Quality Report"
    mimeType: "text/html"
  
  "results/**/qc_*.html":
    display: "Quality Control Report"
    mimeType: "text/html"
  
  # Log files for troubleshooting
  "results/**/*.log":
    display: "Process Log Files"
    mimeType: "text/plain"
  
  # Summary statistics files
  "results/**/summary_*.txt":
    display: "Summary Statistics"
    mimeType: "text/plain"
  
  "results/**/summary_*.csv":
    display: "Summary Statistics (CSV)"
    mimeType: "text/csv"
  
  # BAM files (if you want them accessible through the UI)
  "results/**/*.bam":
    display: "Aligned BAM Files"
    mimeType: "application/octet-stream"
  
  # VCF files (if variant calling is performed)
  "results/**/*.vcf":
    display: "Variant Call Files"
    mimeType: "text/plain"
  
  "results/**/*.vcf.gz":
    display: "Compressed Variant Call Files"
    mimeType: "application/gzip"
  
  # BED files (for methylation motifs and regions)
  "results/**/*.bed":
    display: "BED Format Files"
    mimeType: "text/plain"
  
  # Any JSON output files
  "results/**/*.json":
    display: "JSON Data Files"
    mimeType: "application/json"
  
  # Batch-specific reports (using your batch_id parameter)
  "results/**/*${params.batch_id}*.html":
    display: "Batch-Specific Reports"
    mimeType: "text/html"